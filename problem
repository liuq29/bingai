# nvidia-smi
Tue Mar 12 23:17:24 2024
+---------------------------------------------------------------------------------------+
| NVIDIA-SMI 535.154.05             Driver Version: 535.154.05   CUDA Version: 12.2     |
|-----------------------------------------+----------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
|                                         |                      |               MIG M. |
|=========================================+======================+======================|
|   0  Tesla T4                       On  | 00000000:00:08.0 Off |                    0 |
| N/A   45C    P0              27W /  70W |  13502MiB / 15360MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+

+---------------------------------------------------------------------------------------+
| Processes:                                                                            |
|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
|        ID   ID                                                             Usage      |
|=======================================================================================|
|    0   N/A  N/A    739778      C   python                                    12096MiB |
|    0   N/A  N/A   2474386      C   ...ft/anaconda/envs/wz_lang/bin/python     1402MiB |
+---------------------------------------------------------------------------------------+
(codegen2)


python -c "import torch; print(torch.__version__)"

>>> import torch
>>> torch.cuda.is_available()
True

conda uninstall pytorch torchvision torchaudio

conda install pytorch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 pytorch-cuda=12.1 -c pytorch -c nvidia
pip install torch==2.1.2 torchvision==0.16.2 torchaudio==2.1.2 --index-url https://download.pytorch.org/whl/test/cu121


# source activate codegen2
WARNING: No ICDs were found. Either,
- Install a conda package providing a OpenCL implementation (pocl, oclgrind, intel-compute-runtime, beignet) or
- Make your system-wide implementation visible by installing ocl-icd-system conda package.
(codegen2)

conda install -c conda-forge pocl
pip uninstall torch torchvision torchaudio

# python -c "import torch; print(torch.__version__)"
2.1.2
(codegen2)

>>> import torch
>>> torch.cuda.is_available()
False

raise AssertionError("Torch not compiled with CUDA enabled")
AssertionError: Torch not compiled with CUDA enabled



# python app.py
Loading checkpoint shards: 100%|██████████████████████████████████████████████████| 2/2 [00:03<00:00,  1.96s/it]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or tra                                                                                ined.
Running on local URL:  http://127.0.0.1:7860

Could not create share link. Missing file: /data/oapes_ai/install_soft/anaconda/envs/deepseek_coder/lib/python3.                                                                                10/site-packages/gradio/frpc_linux_amd64_v0.2.

Please check your internet connection. This can happen if your antivirus software blocks the download of this fi                                                                                le. You can install manually by following these steps:

1. Download this file: https://cdn-media.huggingface.co/frpc-gradio-0.2/frpc_linux_amd64
2. Rename the downloaded file to: frpc_linux_amd64_v0.2
3. Move the file to this location: /data/oapes_ai/install_soft/anaconda/envs/deepseek_coder/lib/python3.10/site-                                                                                packages/gradio
^CKeyboard interruption in main thread... closing server.
(deepseek_coder)
